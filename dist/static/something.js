"use strict";
var thing = document.querySelector("#thing");
var text = document.querySelector("#text");
var fps = 30;
var fpsMs = 1000 / fps;
var maxValue = 100;
var seconds = 300;
var incrementPerFrame = maxValue / fps / seconds;
console.log("fps", fps, "fps_ms", fpsMs, "seconds", seconds, "incrementPerFrame", incrementPerFrame);
var last = 0;
var currentTime = 0;
var int = setInterval(function () {
    currentTime += incrementPerFrame;
    if (Math.round(Math.random() * (seconds / 10)) === 0) {
        doAnimation();
    }
    if (Math.round(currentTime) >= maxValue) {
        clearInterval(int);
        last = maxValue;
        doAnimation();
        console.log("done");
    }
}, fpsMs);
function doAnimation() {
    if (thing && text) {
        var stuff = Math.min((Math.random() * (currentTime - last)) + last, 100);
        last = stuff;
        thing.style.width = Math.round(last) * 10 + "px";
        text.innerText = Math.round(last) + "%";
        // console.log('currentTime', currentTime);
        // console.log('last', last);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29tZXRoaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3N0YXRpYy9zb21ldGhpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQWlCLFFBQVEsQ0FBQyxDQUFDO0FBQy9ELElBQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQWlCLE9BQU8sQ0FBQyxDQUFDO0FBQzdELElBQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNmLElBQU0sS0FBSyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUM7QUFDekIsSUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDO0FBQ3JCLElBQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQztBQUNwQixJQUFNLGlCQUFpQixHQUFHLFFBQVEsR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDO0FBQ25ELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUNyRyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7QUFDYixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDcEIsSUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDO0lBQ3RCLFdBQVcsSUFBSSxpQkFBaUIsQ0FBQztJQUNqQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3BELFdBQVcsRUFBRSxDQUFDO0tBQ2Y7SUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksUUFBUSxFQUFFO1FBQ3ZDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ2hCLFdBQVcsRUFBRSxDQUFDO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQjtBQUNILENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUVWLFNBQVMsV0FBVztJQUNsQixJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7UUFFakIsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzRSxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ2IsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE9BQUksQ0FBQztRQUNqRCxJQUFJLENBQUMsU0FBUyxHQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQUcsQ0FBQztRQUN4QywyQ0FBMkM7UUFDM0MsNkJBQTZCO0tBQzlCO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRoaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIjdGhpbmdcIik7XG5jb25zdCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIjdGV4dFwiKTtcbmNvbnN0IGZwcyA9IDMwO1xuY29uc3QgZnBzTXMgPSAxMDAwIC8gZnBzO1xuY29uc3QgbWF4VmFsdWUgPSAxMDA7XG5jb25zdCBzZWNvbmRzID0gMzAwO1xuY29uc3QgaW5jcmVtZW50UGVyRnJhbWUgPSBtYXhWYWx1ZSAvIGZwcyAvIHNlY29uZHM7XG5jb25zb2xlLmxvZyhcImZwc1wiLCBmcHMsIFwiZnBzX21zXCIsIGZwc01zLCBcInNlY29uZHNcIiwgc2Vjb25kcywgXCJpbmNyZW1lbnRQZXJGcmFtZVwiLCBpbmNyZW1lbnRQZXJGcmFtZSk7XG5sZXQgbGFzdCA9IDA7XG5sZXQgY3VycmVudFRpbWUgPSAwO1xuY29uc3QgaW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBjdXJyZW50VGltZSArPSBpbmNyZW1lbnRQZXJGcmFtZTtcbiAgaWYgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChzZWNvbmRzIC8gMTApKSA9PT0gMCkge1xuICAgIGRvQW5pbWF0aW9uKCk7XG4gIH1cbiAgaWYgKE1hdGgucm91bmQoY3VycmVudFRpbWUpID49IG1heFZhbHVlKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnQpO1xuICAgIGxhc3QgPSBtYXhWYWx1ZTtcbiAgICBkb0FuaW1hdGlvbigpO1xuICAgIGNvbnNvbGUubG9nKFwiZG9uZVwiKTtcbiAgfVxufSwgZnBzTXMpO1xuXG5mdW5jdGlvbiBkb0FuaW1hdGlvbigpIHtcbiAgaWYgKHRoaW5nICYmIHRleHQpIHtcblxuICAgIGNvbnN0IHN0dWZmID0gTWF0aC5taW4oKE1hdGgucmFuZG9tKCkgKiAoY3VycmVudFRpbWUgLSBsYXN0KSkgKyBsYXN0LCAxMDApO1xuICAgIGxhc3QgPSBzdHVmZjtcbiAgICB0aGluZy5zdHlsZS53aWR0aCA9IGAke01hdGgucm91bmQobGFzdCkgKiAxMH1weGA7XG4gICAgdGV4dC5pbm5lclRleHQgPSBgJHtNYXRoLnJvdW5kKGxhc3QpfSVgO1xuICAgIC8vIGNvbnNvbGUubG9nKCdjdXJyZW50VGltZScsIGN1cnJlbnRUaW1lKTtcbiAgICAvLyBjb25zb2xlLmxvZygnbGFzdCcsIGxhc3QpO1xuICB9XG59XG4iXX0=