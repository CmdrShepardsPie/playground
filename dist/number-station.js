"use strict";
const synth = window.speechSynthesis;
const utterThis = new SpeechSynthesisUtterance();
utterThis.volume = 2;
const letters = "QWERTYUIOPASDFGHJKLZXCVBNM";
function say(text, voice, pitch, rate) {
    console.log("say", text, voice, pitch, rate);
    return new Promise((resolve) => {
        utterThis.onend = () => {
            console.log("say end");
            resolve();
        };
        utterThis.onpause = () => {
            console.log("say pause");
            resolve();
        };
        utterThis.onerror = () => {
            console.log("say error");
            resolve();
        };
        utterThis.onboundary = () => {
            console.log("say boundary");
            // resolve();
        };
        utterThis.text = text;
        utterThis.voice = voice;
        utterThis.pitch = pitch;
        utterThis.rate = rate;
        // console.log('speak start');
        synth.speak(utterThis);
        // console.log('speak end');
    });
}
//
// function wait(ms, fn) {
//   console.log('wait', ms);
//   return new Promise((resolve, reject) => {
//     window.setTimeout(async () => {
//       try {
//         resolve(fn && await fn());
//       } catch (e) {
//         reject(e);
//       }
//     }, ms);
//   });
// }
function next(number) {
    const waitFor = number || Math.random() * 60 * 60 * 1000;
    console.log("next", waitFor);
    setTimeout(async () => {
        const voices = synth.getVoices();
        const voicenum = Math.floor(Math.random() * voices.length);
        const voice = voices[voicenum];
        // const pitch = 0.1;
        // const rate = 0.5;
        const pitch = Math.random();
        const rate = Math.random();
        // console.log('voice', voicenum, voice, pitch, rate);
        const words = [];
        const max = Math.round((Math.random() * Math.random() * Math.random() * 20));
        for (let i = 0; i < max; i++) {
            let number = Math.floor(Math.random() * Math.random() * Math.random() * 126);
            if (number >= 100) {
                number = letters[number - 100];
                console.log("Using letter", number);
            }
            if (typeof number === "number" && Math.floor(Math.random() * 10) === 0) {
                number = number * -1;
                console.log("Using negative", number);
            }
            if (Math.floor(Math.random() * 10) === 0) {
                number = number + Math.random();
                if (typeof number === "number") {
                    number = number.toFixed(Math.floor(Math.random() * 10));
                }
                console.log("Using decimal", number);
            }
            if (i === 0 && Math.floor(Math.random() * 10) === 0) {
                number = `Repeat after me`;
            }
            if (i === max - 1 && Math.floor(Math.random() * 10) === 0) {
                number = `That's number wang`;
            }
            words.push(number);
        }
        if (words.length) {
            await say(words.join(". "), voice, pitch, rate);
        }
        // await wait(400);
        next();
    }, waitFor);
}
next(1000);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtYmVyLXN0YXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbnVtYmVyLXN0YXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUM7QUFDckMsTUFBTSxTQUFTLEdBQUcsSUFBSSx3QkFBd0IsRUFBRSxDQUFDO0FBQ2pELFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQ3JCLE1BQU0sT0FBTyxHQUFHLDRCQUE0QixDQUFDO0FBRTdDLFNBQVMsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUk7SUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0MsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1FBQzdCLFNBQVMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkIsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDLENBQUM7UUFDRixTQUFTLENBQUMsT0FBTyxHQUFHLEdBQUcsRUFBRTtZQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sRUFBRSxDQUFDO1FBQ1osQ0FBQyxDQUFDO1FBQ0YsU0FBUyxDQUFDLE9BQU8sR0FBRyxHQUFHLEVBQUU7WUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN6QixPQUFPLEVBQUUsQ0FBQztRQUNaLENBQUMsQ0FBQztRQUNGLFNBQVMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxFQUFFO1lBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDNUIsYUFBYTtRQUNmLENBQUMsQ0FBQztRQUNGLFNB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TUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2lCQUN6RDtnQkFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FBQzthQUN0QztZQUNELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ25ELE1BQU0sR0FBRyxpQkFBaUIsQ0FBQzthQUM1QjtZQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUN6RCxNQUFNLEdBQUcsb0JBQW9CLENBQUM7YUFDL0I7WUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3BCO1FBQ0QsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2hCLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNqRDtRQUNELG1CQUFtQjtRQUNuQixJQUFJLEVBQUUsQ0FBQztJQUNULENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNkLENBQUM7QUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzeW50aCA9IHdpbmRvdy5zcGVlY2hTeW50aGVzaXM7XG5jb25zdCB1dHRlclRoaXMgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKCk7XG51dHRlclRoaXMudm9sdW1lID0gMjtcbmNvbnN0IGxldHRlcnMgPSBcIlFXRVJUWVVJT1BBU0RGR0hKS0xaWENWQk5NXCI7XG5cbmZ1bmN0aW9uIHNheSh0ZXh0LCB2b2ljZSwgcGl0Y2gsIHJhdGUpIHtcbiAgY29uc29sZS5sb2coXCJzYXlcIiwgdGV4dCwgdm9pY2UsIHBpdGNoLCByYXRlKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgdXR0ZXJUaGlzLm9uZW5kID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJzYXkgZW5kXCIpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgdXR0ZXJUaGlzLm9ucGF1c2UgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInNheSBwYXVzZVwiKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIHV0dGVyVGhpcy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJzYXkgZXJyb3JcIik7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICB1dHRlclRoaXMub25ib3VuZGFyeSA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwic2F5IGJvdW5kYXJ5XCIpO1xuICAgICAgLy8gcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgdXR0ZXJUaGlzLnRleHQgPSB0ZXh0O1xuICAgIHV0dGVyVGhpcy52b2ljZSA9IHZvaWNlO1xuICAgIHV0dGVyVGhpcy5waXRjaCA9IHBpdGNoO1xuICAgIHV0dGVyVGhpcy5yYXRlID0gcmF0ZTtcbiAgICAvLyBjb25zb2xlLmxvZygnc3BlYWsgc3RhcnQnKTtcbiAgICBzeW50aC5zcGVhayh1dHRlclRoaXMpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdzcGVhayBlbmQnKTtcbiAgfSk7XG59XG5cbi8vXG4vLyBmdW5jdGlvbiB3YWl0KG1zLCBmbikge1xuLy8gICBjb25zb2xlLmxvZygnd2FpdCcsIG1zKTtcbi8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbi8vICAgICB3aW5kb3cuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4vLyAgICAgICB0cnkge1xuLy8gICAgICAgICByZXNvbHZlKGZuICYmIGF3YWl0IGZuKCkpO1xuLy8gICAgICAgfSBjYXRjaCAoZSkge1xuLy8gICAgICAgICByZWplY3QoZSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSwgbXMpO1xuLy8gICB9KTtcbi8vIH1cblxuZnVuY3Rpb24gbmV4dChudW1iZXIpIHtcbiAgY29uc3Qgd2FpdEZvciA9IG51bWJlciB8fCBNYXRoLnJhbmRvbSgpICogNjAgKiA2MCAqIDEwMDA7XG4gIGNvbnNvbGUubG9nKFwibmV4dFwiLCB3YWl0Rm9yKTtcbiAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgdm9pY2VzID0gc3ludGguZ2V0Vm9pY2VzKCk7XG4gICAgY29uc3Qgdm9pY2VudW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2b2ljZXMubGVuZ3RoKTtcbiAgICBjb25zdCB2b2ljZSA9IHZvaWNlc1t2b2ljZW51bV07XG4gICAgLy8gY29uc3QgcGl0Y2ggPSAwLjE7XG4gICAgLy8gY29uc3QgcmF0ZSA9IDAuNTtcbiAgICBjb25zdCBwaXRjaCA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgcmF0ZSA9IE1hdGgucmFuZG9tKCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3ZvaWNlJywgdm9pY2VudW0sIHZvaWNlLCBwaXRjaCwgcmF0ZSk7XG4gICAgY29uc3Qgd29yZHMgPSBbXTtcbiAgICBjb25zdCBtYXggPSBNYXRoLnJvdW5kKChNYXRoLnJhbmRvbSgpICogTWF0aC5yYW5kb20oKSAqIE1hdGgucmFuZG9tKCkgKiAyMCkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgIGxldCBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnJhbmRvbSgpICogTWF0aC5yYW5kb20oKSAqIDEyNik7XG4gICAgICBpZiAobnVtYmVyID49IDEwMCkge1xuICAgICAgICBudW1iZXIgPSBsZXR0ZXJzW251bWJlciAtIDEwMF07XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgbGV0dGVyXCIsIG51bWJlcik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gXCJudW1iZXJcIiAmJiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgPT09IDApIHtcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyICogLTE7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgbmVnYXRpdmVcIiwgbnVtYmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgPT09IDApIHtcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyICsgTWF0aC5yYW5kb20oKTtcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXIgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIudG9GaXhlZChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgZGVjaW1hbFwiLCBudW1iZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGkgPT09IDAgJiYgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApID09PSAwKSB7XG4gICAgICAgIG51bWJlciA9IGBSZXBlYXQgYWZ0ZXIgbWVgO1xuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG1heCAtIDEgJiYgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApID09PSAwKSB7XG4gICAgICAgIG51bWJlciA9IGBUaGF0J3MgbnVtYmVyIHdhbmdgO1xuICAgICAgfVxuICAgICAgd29yZHMucHVzaChudW1iZXIpO1xuICAgIH1cbiAgICBpZiAod29yZHMubGVuZ3RoKSB7XG4gICAgICBhd2FpdCBzYXkod29yZHMuam9pbihcIi4gXCIpLCB2b2ljZSwgcGl0Y2gsIHJhdGUpO1xuICAgIH1cbiAgICAvLyBhd2FpdCB3YWl0KDQwMCk7XG4gICAgbmV4dCgpO1xuICB9LCB3YWl0Rm9yKTtcbn1cblxubmV4dCgxMDAwKTtcbiJdfQ==